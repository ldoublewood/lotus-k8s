apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: proxylock-data-pvc
spec:
  accessModes: ["ReadWriteOnce"]
  resources:
    requests:
      storage: 1Gi
---
apiVersion: v1
kind: Pod
metadata:
  name: proxylock
  labels:
    app: proxylock
spec:
  volumes:
  - name: proxylock-data
    persistentVolumeClaim:
      claimName: proxylock-data-pvc
  containers:
  - name: proxylock
    image: harbor.filcloud.io:2443/filcloud/proxylock:latest
    imagePullPolicy: Always
    ports:
      - name: http
        containerPort: 4433
    volumeMounts:
    - name: proxylock-data
      mountPath: /data/
    env:
      - name: DB_SOURCE
        value: /data/proxy.db
